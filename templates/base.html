<!DOCTYPE html>
{% load static %}
<html lang="uk" class="locations">
<head>
    <meta charset="UTF-8">
    <title>SmartHub</title>
    <link type="text/css" href="{% static 'Home_page/css/style.css' %}" rel="stylesheet" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="shortcut icon" href="{% static 'Home_page/images/depositphotos_6.jpg' %}" type="image/x-icon"/>
</head>
<style>
    div1, header {
        display: flex;
        margin: 0;
        padding: 0;
        border: 0;
        font-size: 80%;
        vertical-align: baseline;
    }

    a1 {
        color: #3e77aa;
        cursor: pointer;
        text-decoration: none;
    }

    .header-search {
        display: flex;
        align-items: center;
        width: 50%;
    }


    .header-search-1 {
        flex-grow: 1;
    }


    *, :after, :before {
        box-sizing: inherit;
        -webkit-tap-highlight-color: transparent;
        -moz-tap-highlight-color: transparent;
    }

    .header1 {
        background-color: #221f1f;
    }

    header {
        display: block;
    }

    .app-header {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        z-index: 1000;
    }

    header.navbar {
        display: flex;
        position: sticky;
        top: 0;
        z-index: 1000;
        justify-content: space-between;
        align-items: center;
        padding: 0px 40px;
        background-color: #333;
    }

    header .logo {
        font-size: 44px;
        font-weight: bold;
        color: #32cd32;
    }

    .hero h1 {
        font-size: 48px;
        margin-bottom: 20px;
    }

    header .logo a {
        font-size: 34px;
        font-weight: bold;
        color: #32cd32;
        white-space: nowrap
    }

    header .menu a, header .profile a {
        color: white;
        text-decoration: none;
        margin: 0 10px;
        font-size: 16px;
    }

    .logo {
	    background: url('../images/logo.png') no-repeat 10px 5px;
	    width: 250px;
	    height: 60px;
    }



    .search input {
        flex: 1;
        height: 100%;
        padding: 10px 15px;
        border-right: none;
        border-radius: 20px 0 0 20px;
        border: none;
        outline: none;
        font-size: 16px;
        box-sizing: border-box;
    }

    .search-button {
        padding: 10px 20px;
        border-left: none;
        background-color: #28a745;
        color: white;
        font-size: 16px;
        cursor: pointer;
        border-radius: 0 20px 20px 0;
    }

    .search-button:hover {
        background-color: #218838;
    }

    header .logo {
        font-size: 44px;
        font-weight: bold;
        color: #32cd32;
    }

    header .menu a, header .profile a {
        color: white;
        text-decoration: none;
        margin: 0 10px;
        font-size: 16px;
    }

    header .menu a:hover, header .profile a:hover {
        color: #32cd32;
    }

    .hero {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 40px 20px;
        background: linear-gradient(0deg, #32cd32, #1b1b1b);
    }

    .hero-content {
        max-width: 50%;
    }

    .hero h1 {
        font-size: 48px;
        margin-bottom: 20px;
    }

    .hero p {
        font-size: 18px;
        margin-bottom: 20px;
    }

    .hero button {
        background-color: #000000;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
    }

    .hero img {
        border-radius: 10px;
    }

    .product-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 20px;
        padding: 40px;
        background-color: #2a2a2a;
    }

    .product-card {
        background-color: #333;
        padding: 20px;
        border-radius: 10px;
        text-align: center;
        transition: transform 0.3s;
    }

    .product-card img {
        width: 100px;
        height: 100px
    }

    .product-card h3 {
        font-size: 20px;
        margin-bottom: 10px;
    }

    .product-card p {
        font-size: 14px;
        margin-bottom: 20px;
    }

    .product-card button {
        background-color: #32cd32;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
    }

    .product-card:hover {
        transform: scale(1.05);
    }

    footer {
        text-align: center;
        padding: 20px;
        background-color: #111;
        color: #888;
    }

    .modal {
        display: none; /* Приховано за замовчуванням */
        position: fixed;
        z-index: 1000;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        background-color: #0f3c0f; /* Темно-зелений колір */
        color: #ffffff; /* Білий текст */
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        width: 300px;
        max-width: 90%;
    }

    /* Заголовок модального вікна */
    .modal h2 {
        font-size: 1.5rem;
        margin-bottom: 10px;
        color: #bdf0bd; /* Світло-зелений */
        text-align: center;
    }

    /* Закрити вікно (іконка) */
    .modal .close-btn {
        position: absolute;
        top: 10px;
        right: 10px;
        color: #ffffff;
        font-size: 1.2rem;
        cursor: pointer;
    }

    /* Стиль кнопки */
    .modal button {
        display: block;
        width: 100%;
        background-color: #26a626; /* Яскраво-зелений */
        color: #ffffff;
        border: none;
        padding: 10px;
        border-radius: 5px;
        font-size: 1rem;
        margin-top: 15px;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    .modal button:hover {
        background-color: #1d8b1d; /* Темніший зелений при наведенні */
    }

</style>
<header class="navbar">
    <div class="logo"><a href="{% url 'home' %}">SMART HUB</a></div>
    <h1>
        <div class="header-search">
            <div class="header-search-1">
                <form novalidate action class="search-form ng-pristine ng-valid ng-touched">
                    <div class="search-form__inner">
                        <div class="search-form__input-wrapper search input">
                            <button type="button" class="search-form__back" aria-label="Відмінити пошук">
                                <svg width="16" height="16">
                                    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-arrow-down"></use>
                                </svg>
                            </button>
                            <input  type="text" autocomplete="off" name="search" formcontrolname="text" placeholder="Я шукаю..." value>
                            <button type="button" class="search-form__clear" style="display: none;" aria-label="Очистити пошук">
                                <svg width="16" height="16">
                                    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-close-modal"></use>
                                </svg>
                            </button>
                        </div>
                        <div class="search-suggest" style="display: none;">
                            <ul></ul>
                        </div>
                    </div>
                    <button class="search-button button button_color_green button_size_medium search-form__submit"> Знайти </button>
                </form>
            </div>
        </div>
    </h1>
    <nav class="menu">
        <a href="{% url 'home' %}">Каталог</a>
        <a href="{% url 'home' %}">Список бажань</a>
        <a href="{% url 'home' %}">Закази</a>
        <a href="{% url 'home' %}">Comparison</a>
    </nav>
    <div class="profile">
        <a href="#">Профіль</a>
    </div>
</header>
<svg style="display: none;">
    <symbol id="icon-menu" viewBox="0 0 24 24">
    <rect x="1" y="1" width="22" height="22" rx="4" ry="4" stroke="white" fill="none"/>
    <circle cx="5" cy="6" r="1" fill="white"/>
    <rect x="7" y="5" width="12" height="2" fill="white"/>
    <circle cx="5" cy="12" r="1" fill="white"/>
    <rect x="7" y="11" width="12" height="2" fill="white"/>
    <circle cx="5" cy="18" r="1" fill="white"/>
    <rect x="7" y="17" width="12" height="2" fill="white"/>
    </symbol>
    <symbol id="icon-bell" viewBox="0 0 24 24">
        <path fill="none" stroke="white" stroke-width="2" d="M12 2C10.34 2 9 3.34 9 5V6C6.72 6 5 7.72 5 10V15L3 17V18H21V17L19 15V10C19 7.72 17.28 6 15 6V5C15 3.34 13.66 2 12 2zM12 22C11.45 22 11 21.55 11 21H13C13 21.55 12.55 22 12 22z"/>
    </symbol>
    <symbol id="icon-scales" viewBox="0 0 24 24">
    <line fill="none" stroke="white" stroke-width="2" x1="5" y1="12" x2="19" y2="12" />
    <circle fill="white" cx="12" cy="12" r="2" />
    </symbol>
    <symbol id="icon-heart" viewBox="0 0 24 24">
        <path fill="none" stroke="white" stroke-width="2" d="M12 21.35L10.45 20.03C5.4 15.36 2 12.28 2 8.5C2 6.5 3.5 5 5.5 5C6.74 5 8.41 5.81 9 6.5C9.59 5.81 11.26 5 12.5 5C14.5 5 16 6.5 16 8.5C16 12.28 12.6 15.36 7.55 20.04"/>
    </symbol>
    <symbol id="icon-cart" viewBox="0 0 24 24">
        <!-- Cart body -->
        <path fill="none" stroke="white" stroke-width="2" d="M3,6 L5,6 L9,15 L17,15 L21,8 L8,8" />
        <!-- Handle -->
        <path fill="none" stroke="white" stroke-width="2" d="M1,1 L4,6" />
        <!-- Wheels -->
        <circle cx="7" cy="18" r="2" fill="none" stroke="white" stroke-width="2" />
        <circle cx="17" cy="18" r="2" fill="none" stroke="white" stroke-width="2" />
    </symbol>
</svg>
<body>
{% block content %} {% endblock %}
{% block notebooks %} {% endblock %}
{% block profile %} {% endblock %}
{% block computers %} {% endblock %}
{% block product_detail %} {% endblock %}
{% block characteristics %} {% endblock %}
{% block reviews %} {% endblock %}
<div id="loginModal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Вхід</h2>
        <form id="loginForm">
            {% csrf_token %}
            <input type="text" name="username" placeholder="Ім'я користувача" required>
            <input type="password" name="password" placeholder="Пароль" required>
            <button type="submit">Увійти</button>
        </form>
        <div id="loginErrors" style="color: red;"></div>
    </div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const loginButton = document.querySelector(".profile a"); // Кнопка для відкриття
        const modal = document.getElementById("loginModal"); // Модальне вікно
        const closeModal = modal.querySelector(".close"); // Кнопка закриття

        // Відкриття модального вікна
        loginButton.addEventListener("click", function (event) {
            event.preventDefault(); // Відключити перехід за посиланням
            modal.style.display = "block"; // Відображення вікна
        });

        // Закриття модального вікна
        closeModal.addEventListener("click", function () {
            modal.style.display = "none";
        });

        // Закриття при кліці поза модальним вікном
        window.addEventListener("click", function (event) {
            if (event.target === modal) {
                modal.style.display = "none";
            }
        });

        // AJAX-вхід
        const loginForm = document.getElementById("loginForm");
        loginForm.addEventListener("submit", async function (event) {
            event.preventDefault();
            const formData = new FormData(loginForm);

            try {
                const response = await fetch("{% url 'login_view' %}", {
                    method: "POST",
                    body: formData,
                });
                const data = await response.json();

                if (data.success) {
                    alert("Успішний вхід!");
                    modal.style.display = "none"; // Закриття вікна
                    window.location.reload(); // Перезавантаження сторінки
                } else {
                    document.getElementById("loginErrors").innerHTML = Object.values(data.errors).join("<br>");
                }
            } catch (error) {
                console.error("Помилка:", error);
            }
        });
    });
</script>
</body>
</html>